<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>phyturge — arboreum</title>
  <meta name="description" content="hendecad by Phyturge Arboreum / phyIL over Python — closed beta-testing" />
  <style>
    :root{
      --bg0:#07090c;
      --bg1:#05070a;
      --fg:#eee7db;
      --muted:#b8b0a3;
      --cad:#7bd3a7;
      --focus:#9ad9b9;
    }

    *{ margin:0; padding:0; box-sizing:border-box; }

    html, body{
      height: 100%;
      overflow: hidden;
      background: var(--bg1);
    }

    body{
      color: var(--fg);
      background:
        radial-gradient(900px 650px at 22% 18%, rgba(120,140,160,.09), transparent 68%),
        radial-gradient(760px 560px at 72% 78%, rgba(60,140,110,.07), transparent 62%),
        linear-gradient(180deg, var(--bg0), var(--bg1));
      background-attachment: fixed;
      font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
      letter-spacing: 0.01em;
    }

    body::before{
      content:"";
      position: fixed;
      inset:0;
      pointer-events:none;
      opacity: .06;
      background-image:
        repeating-linear-gradient(0deg, rgba(255,255,255,.028) 0, rgba(255,255,255,.028) 1px, transparent 1px, transparent 4px),
        repeating-linear-gradient(90deg, rgba(0,0,0,.03) 0, rgba(0,0,0,.03) 1px, transparent 1px, transparent 5px);
      mix-blend-mode: overlay;
    }

    .page{
      height: 100%;
      display:flex;
      align-items:flex-start;
      justify-content:center;
      padding: clamp(32px, 8vh, 90px) 18px;
    }

    .content{
      max-width: 880px;
      width: 100%;
      /* reserve vertical space so typing doesn't push layout */
      min-height: 420px;
    }

    .line{
      line-height: 1.65;
      margin-bottom: 0.5em;
      font-size: clamp(18px, 1.9vw, 22px);
      white-space: pre-wrap;
    }

    .line.title{
      font-size: clamp(26px, 2.6vw, 34px);
      line-height: 1.3;
      margin-bottom: 0.7em;
    }

    .line.title .cad{
      color: var(--cad);
      text-shadow: 0 0 20px rgba(123,211,167,.14);
    }

    .line.dim{
      color: rgba(238,231,219,.80);
      font-size: clamp(16px, 1.6vw, 19px);
    }

    .line.quote{
      margin-top: clamp(18px, 2.8vh, 28px);
      padding-top: 12px;
      border-top: 1px solid rgba(255,255,255,.05);
      color: rgba(238,231,219,.70);
      font-size: clamp(15px, 1.5vw, 17px);
      line-height: 1.58;
    }

    .sig{
      color: rgba(238,231,219,.56);
      font-size: clamp(14px, 1.3vw, 15px);
    }

    .caret{
      display:inline-block;
      width: 11px;
      opacity: .88;
      animation: blink 1.05s steps(2,end) infinite;
    }
    @keyframes blink{ 50%{ opacity: 0; } }

    a{
      color: var(--fg);
      text-decoration: none;
      border-bottom: 1px dotted rgba(238,231,219,.30);
      transition: border-color .2s, color .2s;
    }
    a:hover{
      border-bottom-color: rgba(154,217,185,.78);
      color: rgba(238,231,219,.98);
    }
    a:focus-visible{
      outline: 2px solid var(--focus);
      outline-offset: 3px;
      border-radius: 6px;
    }

    .seedling{
      position: fixed;
      right: clamp(16px, 4vw, 36px);
      bottom: clamp(16px, 3.8vh, 32px);
      width: 88px;
      height: 88px;
      pointer-events: none;
      opacity: .88;
      filter: drop-shadow(0 0 12px rgba(123,211,167,.10));
    }

    /* provenance footer */

    .provenance-footer{
      position: fixed;
      left: 0;
      right: 0;
      bottom: 0;
      padding: 0 24px 14px;
      pointer-events: none;
    }

    .provenance-inner{
      max-width: 880px;
      margin: 0 auto;
      text-align: right;
      opacity: .55;
      font-size: 10px;
      letter-spacing: 0.03em;
      line-height: 1.5;
      color: var(--muted);
    }

    @media (max-width: 720px){
      .page{ align-items:flex-start; }
      .provenance-inner{ text-align:left; }
    }

    @media (min-width: 900px){
      .page{ align-items:center; }
    }

    @media (prefers-reduced-motion: reduce){
      *{ animation: none !important; transition: none !important; }
    }
  </style>
</head>
<body>
  <div class="page">
    <main class="content" role="main" aria-label="Phyturge Arboreum landing" id="out"></main>
    <canvas class="seedling" id="seedling" width="88" height="88" aria-hidden="true"></canvas>
  </div>

  <footer class="provenance-footer">
    <div class="provenance-inner">
      <small>
        This project was established in 2025 and has been under continuous private development.
        Cryptographic proof of existence and authorship has been established.
        Proof hash: 8b1c20a3ad8730ea2aadf9440c3e57ac6581e49c2a4b0ebaf4b8700b59a8b070
      </small>
    </div>
  </footer>

  <script>
    (function(){
      const reduceMotion = window.matchMedia && window.matchMedia('(prefers-reduced-motion: reduce)').matches;
      const out = document.getElementById('out');
      const seed = document.getElementById('seedling');
      const ctx = seed.getContext('2d');

      const caret = document.createElement('span');
      caret.className = 'caret';
      caret.textContent = '▍';

      // Canvas seedling: pixel art frames
      const px = 4;
      const C = {
        soil: 'rgba(238,231,219,.16)',
        stem: 'rgba(154,217,185,.58)',
        leaf: 'rgba(123,211,167,.66)',
        leaf2:'rgba(191,227,201,.52)'
      };

      function dot(x,y,color){
        if(!color) return;
        ctx.fillStyle = color;
        ctx.fillRect(x*px, y*px, px, px);
      }

      function clear(){ ctx.clearRect(0,0,88,88); }

      const frames = [
        () => { // sprout
          clear();
          for(let x=3;x<=18;x++) dot(x,16,C.soil);
          dot(11,15,C.stem); dot(11,14,C.stem);
          dot(10,14,C.leaf2); dot(12,14,C.leaf2);
        },
        () => { // plant
          clear();
          for(let x=3;x<=18;x++) dot(x,16,C.soil);
          dot(11,15,C.stem); dot(11,14,C.stem); dot(11,13,C.stem); dot(11,12,C.stem);
          dot(10,12,C.leaf); dot(12,12,C.leaf);
          dot(9,11,C.leaf2); dot(13,11,C.leaf2);
        },
        (twitch) => { // tree
          clear();
          for(let x=3;x<=18;x++) dot(x,16,C.soil);
          dot(11,15,C.stem); dot(11,14,C.stem); dot(11,13,C.stem); dot(11,12,C.stem); dot(11,11,C.stem);
          [9,10,11,12,13].forEach(x => dot(x,10,C.leaf));
          dot(10,9,C.leaf2); dot(11,9,C.leaf2); dot(12,9,C.leaf2);
          dot(10,11,C.leaf2); dot(12,11,C.leaf2);
          if(twitch){ dot(9,9,C.leaf2); dot(13,9,C.leaf2); }
        }
      ];

      let seedPhase = 0;
      function growSeed(){
        if(seedPhase < frames.length - 1){
          seedPhase++;
          frames[seedPhase]();
        }
      }

      function twitchSeed(){
        let t = false;
        setInterval(() => {
          t = !t;
          frames[2](t);
        }, 4200);
      }

      // Lines to type
      const lines = [
        { text: '_hen', append: 'de', cadPart: 'cad', class: 'title' }, // special: hendecad
        { text: 'Phyturge Arboreum', class: 'dim' },
        { text: 'phyIL over Python', class: 'dim' },
        { text: 'closed beta-testing', class: 'dim' },
        { text: '[request seed]', class: 'dim', link: 'mailto:arsadamant@gmail.com?subject=hendecad%20closed%20beta%20%E2%80%94%20request%20seed&body=Hi%2C%0A%0AI%27d%20like%20to%20request%20a%20seed%20for%20hendecad%20closed%20beta.%0A%0AName%3A%0AUse%20case%3A%0ATech%20stack%3A%0AWhat%20I%20can%20test%3A%0A%0AThanks%2C' },
        { text: '"One who is φυτουργός\nof all the works\nof all other workmen,\nof vessels of every kind,\nplants and animals,\nhimself\nand all other things..."', class: 'quote' },
        { text: 'Plato, Rep. ', sigLink: '596c7–e3', sigHref: 'https://www.gutenberg.org/files/1497/1497-h/1497-h.htm', class: 'sig' }
      ];

      let currentLine = 0;
      let currentEl = null;

      function mkLine(className){
        const d = document.createElement('div');
        d.className = 'line' + (className ? ' ' + className : '');
        out.appendChild(d);
        return d;
      }

      function moveCaretTo(el){
        el.appendChild(caret);
      }

      function typeText(el, text, speed, onDone){
        let i = 0;
        const write = () => {
          if(i < text.length){
            el.insertBefore(document.createTextNode(text.charAt(i)), caret);
            i++;
            setTimeout(write, speed + Math.floor(Math.random()*12));
          } else {
            setTimeout(onDone, 360);
          }
        };
        moveCaretTo(el);
        setTimeout(write, 60);
      }

      function typeLine(idx){
        if(idx >= lines.length){
          const empty = mkLine('');
          moveCaretTo(empty);
          return;
        }

        const item = lines[idx];
        currentEl = mkLine(item.class || '');

        // Special: hendecad (line 0) – now clickable
        if(idx === 0){
          const full = item.text + item.append + item.cadPart;
          typeText(currentEl, full, 24, () => {
            currentEl.innerHTML =
              '<a href="hendecad.html">' +
                '<span>_hen</span><span>de</span><span class="cad">cad</span>' +
              '</a>';
            moveCaretTo(currentEl.querySelector('a'));
            growSeed();
            setTimeout(() => { currentLine++; typeLine(currentLine); }, 420);
          });
          return;
        }

        if(idx === 2) setTimeout(growSeed, 200);
        if(idx === 4) setTimeout(() => { growSeed(); twitchSeed(); }, 200);

        if(item.sigLink){
          typeText(currentEl, item.text, 20, () => {
            const a = document.createElement('a');
            a.href = item.sigHref;
            a.target = '_blank';
            a.rel = 'noreferrer';
            a.textContent = '';
            currentEl.appendChild(a);
            moveCaretTo(a);

            let j = 0;
            const writeLink = () => {
              if(j < item.sigLink.length){
                a.insertBefore(document.createTextNode(item.sigLink.charAt(j)), caret);
                j++;
                setTimeout(writeLink, 22);
              } else {
                setTimeout(() => { currentLine++; typeLine(currentLine); }, 420);
              }
            };
            setTimeout(writeLink, 60);
          });
          return;
        }

        if(item.link){
          const a = document.createElement('a');
          a.href = item.link;
          a.textContent = '';
          currentEl.appendChild(a);
          moveCaretTo(a);

          let j = 0;
          const writeLink = () => {
            if(j < item.text.length){
              a.insertBefore(document.createTextNode(item.text.charAt(j)), caret);
              j++;
              setTimeout(writeLink, 20);
            } else {
              setTimeout(() => { currentLine++; typeLine(currentLine); }, 360);
            }
          };
          setTimeout(writeLink, 60);
          return;
        }

        typeText(currentEl, item.text, 20, () => {
          currentLine++;
          typeLine(currentLine);
        });
      }

      if(reduceMotion){
        lines.forEach((item, idx) => {
          const el = mkLine(item.class || '');
          if(idx === 0){
            el.innerHTML =
              '<a href="hendecad.html">' +
                '<span>_hen</span><span>de</span><span class="cad">cad</span>' +
              '</a>';
          } else if(item.link){
            const a = document.createElement('a');
            a.href = item.link;
            a.textContent = item.text;
            el.appendChild(a);
          } else if(item.sigLink){
            el.innerHTML = item.text + '<a href="' +
              item.sigHref +
              '" target="_blank" rel="noreferrer">' +
              item.sigLink + '</a>';
          } else {
            el.textContent = item.text;
          }
        });
        const empty = mkLine('');
        empty.appendChild(caret);
        frames[2](false);
        return;
      }

      frames[0]();
      setTimeout(() => typeLine(0), 300);
    })();
  </script>
</body>
</html>
